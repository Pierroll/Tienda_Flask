{% extends 'base.html' %}

{% block title %}Lista de Productos{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2>Lista de Productos en Base de Datos</h2>
    
    {% if items %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Imagen</th>
                <th>Nombre</th>
                <th>Precio Actual</th>
                <th>Precio Anterior</th>
                <th>Stock</th>
                <th>Oferta Flash</th>
                <th>Fecha Agregado</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ item.id }}</td>
                <td><img src="{{ item.product_picture }}" alt="{{ item.product_name }}" style="width: 50px; height: 50px;"></td>
                <td>{{ item.product_name }}</td>
                <td>${{ item.current_price }}</td>
                <td>${{ item.previous_price }}</td>
                <td>{{ item.in_stock }}</td>
                <td>{% if item.flash_sale %}SÃ­{% else %}No{% endif %}</td>
                <td>{{ item.date_added.strftime('%Y-%m-%d %H:%M') }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="alert alert-info">
        No hay productos en la base de datos.
    </div>
    {% endif %}
</div>
{% endblock %}